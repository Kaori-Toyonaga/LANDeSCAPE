<%= form_with(model: @post, local: true ,url: choose_new_or_edit) do |form| %>

  <% if @post.errors.any? %>
    <div id="error_explanation">
      <p>Please check for <%= @post.errors.count %> input omission</p>
      <ul>
      <% @post.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<%= form.submit "create" %>
<%= link_to "back", posts_path  %>

  <div class="post_card">
    <p>
      <%= image_tag(@post.image.url) if @post.image && @post.image.url %>
      <%= form.file_field :image %>
      <%= form.hidden_field :image_cache %>
    </P>
    <p>
      <%= form.label :spotname, 'Spot :' %>
      <%= form.text_field :spotname, :placeholder => "spot name" %>
    </P>
    <p>
      <%= form.label :prefecture, 'Area :' %>
      <%= form.select :prefecture,  [['都道府県', '都道府県'], ['北海道', '北海道'], ['青森県', '青森県'], ['岩手県', '岩手県'],
                              ['宮城県', '宮城県'], ['秋田県', '秋田県'], ['山形県', '山形県'], ['福島県', '福島県'],
                              ['茨城県', '茨城県'], ['栃木県', '栃木県'], ['群馬県', '群馬県'], ['埼玉県', '埼玉県'],
                              ['千葉県', '千葉県'], ['東京都', '東京都'], ['神奈川県', '神奈川県'], ['新潟県', '新潟県'],
                              ['富山県', '富山県'], ['石川県', '石川県'], ['福井県', '福井県'], ['山梨県', '山梨県'],
                              ['長野県', '長野県'], ['岐阜県', '岐阜県'], ['静岡県', '静岡県'], ['愛知県', '愛知県'],
                              ['三重県', '三重県'], ['滋賀県', '滋賀県'], ['京都府', '京都府'], ['大阪府', '大阪府'],
                              ['兵庫県', '兵庫県'], ['奈良県', '奈良県'], ['和歌山県', '和歌山県'], ['鳥取', '鳥取'],
                              ['島根県', '島根県'], ['岡山県', '岡山県'], ['広島県', '広島県'], ['山口県', '山口県'],
                              ['徳島県', '徳島県'], ['香川県', '香川県'], ['愛媛県', '愛媛県県'], ['高知県', '高知県'],
                              ['福岡県県', '福岡県'], ['佐賀県', '佐賀県'], ['長崎県', '長崎県'], ['熊本県', '熊本県'],
                              ['大分県', '大分県'], ['宮崎県', '宮崎県'], ['鹿児島県', '鹿児島県'], ['沖縄県', '沖縄県']],{} %>
    </P>
    <p>
      <%= form.label :address, 'Address :' %>
      <%= form.text_field :address, :placeholder => "address?" %>
    </P>
    <p>
      <%= form.label :url, 'Map URL :' %>
      <%= form.text_field :url, :placeholder => "Map URL" %>
    </P>
    <p>
      <%= form.label :date, 'Date :' %>
      <%= form.date_field :date %>
    </P>
    <div>
      <p><%= form.collection_check_boxes(:tag_ids, Tag.all, :id, :title) %></p>
      <p><%= link_to 'New Tag', new_tag_path %></p>
    </div>
    <p>
      <%= form.text_area :content, :placeholder => "content:" %>
    </P>
  </div>
<% end %>
